(this["webpackJsonpreact-airport"]=this["webpackJsonpreact-airport"]||[]).push([[0],{12:function(e,t,a){e.exports={Flights:"Flights_Flights__1qw2-",search_container:"Flights_search_container__1iMXU",heading:"Flights_heading__1GJvM",links:"Flights_links__2LskE",link:"Flights_link__2aUnO",active_link:"Flights_active_link__1igRr",left_btn:"Flights_left_btn__2J8xB"}},151:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(20),r=a.n(c),s=a(18),i=a(8),o=(a(86),a(5)),l=a(66),d=a.n(l),_=a(12),j=a.n(_),b=a(17),u=a(22),h=a.n(u),O=function(e){var t=new Date(e),a=t.getHours(),n=t.getMinutes();return a=1===a.toString().length?"0".concat(a):a,n=1===n.toString().length?"0".concat(n):n,"".concat(a,":").concat(n)},p="SERVER_DATE",x="FULL_MONTH",m=function(e,t){var a=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),c=e.getFullYear();return t===p?"".concat(a,"-").concat(n,"-").concat(c):"".concat(a,"/").concat(n)},f=a(7),v=a.n(f),g=a(26),y=a.n(g),N=a(32),w=a(67),D=a.n(w),R=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("".concat("https://api.iev.aero/api/flights/").concat(t));case 3:return a=e.sent,n=a.data.body.arrival,c=a.data.body.departure,e.abrupt("return",{arrival:n,departure:c});case 9:e.prev=9,e.t0=e.catch(0),console.warn(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),T=function(e){switch(e){case"ON":return"On time";case"CX":return"Canceled";case"LN":return"Landed";case"CK":return"Check-in";case"FR":return"In flight";case"BD":return"Boarding";case"DP":return"Departed";case"DV":return"Route change";case"GC":return"Gate closed";default:return e}},F=a(2),S=function(e){var t=e.product,a=e.direction,n=e.date,c=e.index;return t.timeBoard||t.timeArrShedule?Object(F.jsxs)("tr",{className:h()(v.a.row,Object(b.a)({},v.a.row_grey,c%2===0)),children:[Object(F.jsx)("td",{className:v.a.td,children:Object(F.jsx)("span",{className:h()(v.a.term,Object(b.a)({},v.a.term_a,"A"===t.term),Object(b.a)({},v.a.term_d,"D"===t.term)),children:t.term})}),"departure"===a&&Object(F.jsx)("td",{className:v.a.td,children:O(t.timeBoard)}),"arrival"===a&&Object(F.jsx)("td",{className:v.a.td,children:O(t.timeArrShedule)}),"departure"===a&&Object(F.jsx)("td",{className:v.a.td,children:t["airportToID.city_en"]}),"arrival"===a&&Object(F.jsx)("td",{className:v.a.td,children:t["airportFromID.city_en"]}),Object(F.jsx)("td",{className:v.a.td,children:T(t.status)}),Object(F.jsx)("td",{className:v.a.td,children:Object(F.jsxs)("div",{className:v.a.company,children:[t.logo&&Object(F.jsx)("img",{alt:"logo",src:"https://api.iev.aero/".concat(t.logo),className:v.a.logo})," ",Object(F.jsx)("div",{className:v.a.comp_name,children:t.airline.en.name})]})}),Object(F.jsx)("td",{className:v.a.td,style:{paddingLeft:"50px"},children:t.codeShareData[0].codeShare}),Object(F.jsx)("td",{className:v.a.td,children:Object(F.jsx)(s.b,{to:"/".concat(a,"/").concat(t.ID,"?dt=").concat(n),className:v.a.details,children:"Flight details"})})]}):null},L=Object(n.memo)(S),C=a(19),E=a.n(C),k=function(){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:E.a.table_h,children:"Terminal"}),Object(F.jsx)("th",{className:E.a.table_h,children:"Local time"}),Object(F.jsx)("th",{className:E.a.table_h,children:"Destination"}),Object(F.jsx)("th",{className:E.a.table_h,children:"Status"}),Object(F.jsx)("th",{className:E.a.table_h,children:"Airline"}),Object(F.jsx)("th",{className:E.a.table_h,style:{paddingLeft:"50px"},children:"Flight"}),Object(F.jsx)("th",{className:E.a.table_h})]})},A=a(74),I=a(68),G=a.n(I),H=Object(A.a)((function(e,t){return e[t]}),(function(e){return e.query}),(function(e,t){var a=t.toLowerCase();return console.log("Filtering...."),e.filter((function(e){var t=e["airportToID.city_en"]||e["airportFromID.city_en"]||"",n=e.airline.en.name||"",c=e.codeShareData[0].codeShare||"";return t.toLowerCase().includes(a)||n.toLowerCase().includes(a)||c.toLowerCase().includes(a)}))})),B=function(e){var t=e.direction,a=Object(i.c)((function(e){return H(e,t)})),n=Object(i.c)((function(e){return e.date}));return console.log(t),Object(F.jsx)("div",{children:Object(F.jsxs)("table",{className:G.a.table,children:[Object(F.jsx)("thead",{children:Object(F.jsx)(k,{})}),Object(F.jsx)("tbody",{children:a.map((function(e,a){return Object(F.jsx)(L,{product:e,direction:t,date:n,index:a},e.ID)}))})]})})},q=function(){return Object(F.jsx)(B,{direction:"departure"})},U=function(){return Object(F.jsx)(B,{direction:"arrival"})},P=a(15),J=a(41),K=a.n(J),M="START_LOADING_FLIGHTS",V="LOADING_FLIGHTS_SUCCESS",Y="SET_ARRIVAL",Q="SET_DEPARTURE",W="LOADING_FLIGHTS_ERROR",X="UPDATE_DATE",$="SEARCH_QUERY",z=function(e){return{type:Y,payload:e}},Z=function(e){return{type:Q,payload:e}},ee=function(e){return{type:X,payload:e}},te=function(){var e=Object(i.c)((function(e){return e.query})),t=Object(i.b)(),a=Object(n.useState)(e),c=Object(P.a)(a,2),r=c[0],s=c[1],o=function(a){a.preventDefault(),e!==r&&t(function(e){return{type:$,payload:e}}(r))};return console.log("query",e),Object(F.jsxs)("form",{className:K.a.search_bar,onSubmit:o,children:[Object(F.jsx)("input",{type:"text",onChange:function(e){s(e.target.value)},placeholder:"Airline, destination or flight #",value:r,className:K.a.search,onBlur:o}),Object(F.jsx)("button",{type:"submit",className:K.a.search_btn,children:"SEARCH"})]})},ae=a(42),ne=a.n(ae),ce=a(27),re=a.n(ce),se=function(e){var t=e.date,a=e.order,n=e.onChangeDate,c=e.serverDate;return Object(F.jsxs)("div",{className:h()([re.a.day_container],Object(b.a)({},re.a.active_day,m(t,p)===c),Object(b.a)({},re.a.not_active_day,m(t,p)!==c)),onClick:function(){return n(m(t,p))},children:[Object(F.jsx)("div",{className:re.a.day_number,children:m(t,x)}),Object(F.jsx)("div",{className:re.a.day_title,children:a})]})},ie=a(69),oe=a.n(ie),le=a(43),de=a.n(le),_e=function(e){var t=e.date,a=e.selectDate,c=new Date(t.replace(/(\d{2})-(\d{2})-(\d{4})/,"$2-$1-$3")),r=Object(n.forwardRef)((function(e,t){e.value;var a=e.onClick;return Object(F.jsxs)("div",{className:de.a.calendar_wrapper,children:[Object(F.jsx)("div",{className:de.a.date_str,children:m(c,x)}),Object(F.jsx)("button",{className:de.a.calendar_btn,onClick:a,ref:t})]})}));return Object(F.jsx)(oe.a,{selected:c,onChange:function(e){return a(m(e,p))},customInput:Object(F.jsx)(r,{})})},je=function(){var e=Object(n.useState)([]),t=Object(P.a)(e,2),a=t[0],c=t[1],r=Object(i.b)(),s=Object(i.c)((function(e){return e.date}));Object(n.useEffect)((function(){var e=Date.now(),t=[{order:"yesterday",date:new Date(e-864e5)},{order:"today",date:new Date(e)},{order:"tomorrow",date:new Date(e+864e5)}];c(t)}),[]);var o=function(e){e!==s&&r(ee(e))};return Object(F.jsxs)("div",{className:ne.a.calendar_dates_container,children:[Object(F.jsx)("div",{className:ne.a.calendar_container,children:Object(F.jsx)(_e,{date:s,selectDate:o})}),Object(F.jsx)("div",{className:ne.a.dates_container,children:a.map((function(e){return Object(F.jsx)(se,{date:e.date,order:e.order,onChangeDate:o,serverDate:s},e.order)}))})]})},be=a(72),ue=a.n(be),he=function(){return Object(F.jsx)("div",{className:ue.a.date_calendar_wrap,children:Object(F.jsx)(je,{})})},Oe=a(54),pe=a.n(Oe),xe=function(e){return e.loading?Object(F.jsx)("div",{className:pe.a.loader,children:Object(F.jsxs)("div",{className:pe.a.pacman,children:[Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{})]})}):null};var me=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.date})),a=Object(i.c)((function(e){return e.isLoadingFlights}));return Object(n.useEffect)((function(){var t=new Date;e(ee(m(t,p)))}),[]),Object(n.useEffect)((function(){t&&e(function(e){return function(){var t=Object(N.a)(y.a.mark((function t(a){var n,c,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:M}),t.prev=1,t.next=4,R(e);case 4:n=t.sent,c=n.arrival,r=n.departure,a({type:V}),a(z(c)),a(Z(r)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a({type:W});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t]),console.log("Flights RENDER"),Object(F.jsxs)("div",{className:j.a.Flights,children:[Object(F.jsx)(xe,{loading:a}),Object(F.jsxs)("div",{className:j.a.search_container,children:[Object(F.jsx)("span",{className:j.a.heading,children:"SEARCH FLIGHT"}),Object(F.jsx)(te,{})]}),Object(F.jsxs)("div",{className:j.a.links,children:[Object(F.jsx)(s.c,{to:"/flights/departures",className:function(e){return e.isActive?"".concat(j.a.active_link," ").concat(j.a.left_btn):"".concat(j.a.link," ").concat(j.a.left_btn)},children:"DEPARTURES"}),Object(F.jsx)(s.c,{to:"/flights/arrivals",className:function(e){return e.isActive?j.a.active_link:j.a.link},children:"ARRIVALS"})]}),Object(F.jsx)("div",{children:Object(F.jsx)(he,{})}),Object(F.jsxs)(o.d,{children:[Object(F.jsx)(o.b,{path:"/departures",element:Object(F.jsx)(q,{})}),Object(F.jsx)(o.b,{path:"/arrivals",element:Object(F.jsx)(U,{})}),Object(F.jsx)(o.b,{path:"*",element:Object(F.jsx)(o.a,{replace:!0,to:"/404"})})]})]})},fe=a(44),ve=a.n(fe),ge=function(){return Object(F.jsxs)("div",{className:ve.a.notFoundContainer,children:[Object(F.jsxs)("h1",{className:ve.a.title,children:["404",Object(F.jsx)("br",{}),"page not found"]}),Object(F.jsx)("div",{className:ve.a.text,children:Object(F.jsxs)("span",{children:["We're sorry, but the page you're looking for doesn't exist.",Object(F.jsx)("br",{}),"This may be because the URL was incorrect or the page was deleted."]})})]})};a(149);var ye=function(){return Object(F.jsx)("div",{className:d.a.app,children:Object(F.jsxs)(o.d,{children:[Object(F.jsx)(o.b,{path:"/",element:Object(F.jsx)(o.a,{replace:!0,to:"/flights/departures"})}),Object(F.jsx)(o.b,{path:"/flights/*",element:Object(F.jsx)(me,{})}),Object(F.jsx)(o.b,{path:"/404",element:Object(F.jsx)(ge,{})}),Object(F.jsx)(o.b,{path:"*",element:Object(F.jsx)(o.a,{replace:!0,to:"/404"})})]})})},Ne=a(6),we=a(73),De=a(55),Re={isLoadingFlights:!1,isErrorLoadingFlights:!1,arrival:[],departure:[],date:"07-12-2021",query:""},Te=Object(De.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoadingFlights:!0});case V:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoadingFlights:!1});case Y:return Object(Ne.a)(Object(Ne.a)({},e),{},{arrival:t.payload});case Q:return Object(Ne.a)(Object(Ne.a)({},e),{},{departure:t.payload});case W:return Object(Ne.a)(Object(Ne.a)({},e),{},{isErrorLoadingFlights:!0});case X:return Object(Ne.a)(Object(Ne.a)({},e),{},{date:t.payload});case $:return Object(Ne.a)(Object(Ne.a)({},e),{},{query:t.payload});default:return Object(Ne.a)({},e)}}),Re,Object(De.a)(we.a)),Fe=Te;r.a.render(Object(F.jsx)(s.a,{children:Object(F.jsx)(i.a,{store:Fe,children:Object(F.jsx)(ye,{})})}),document.getElementById("root"))},19:function(e,t,a){e.exports={table_h:"TableHeader_table_h__3HKqa"}},27:function(e,t,a){e.exports={day_container:"Day_day_container__v6WFm",active_day:"Day_active_day__TrbxK",not_active_day:"Day_not_active_day__3g7Rl",day_number:"Day_day_number__2H1m-",day_title:"Day_day_title__1TxqU"}},41:function(e,t,a){e.exports={search_bar:"SearchBar_search_bar__1E6lx",search:"SearchBar_search__2kwmt",search_btn:"SearchBar_search_btn__3igQk"}},42:function(e,t,a){e.exports={dates_container:"Dates_dates_container__2wODE",calendar_container:"Dates_calendar_container__2x1wO",calendar_dates_container:"Dates_calendar_dates_container__23HRG"}},43:function(e,t,a){e.exports={calendar_wrapper:"Calendar_calendar_wrapper__2GWuS",calendar_btn:"Calendar_calendar_btn__2JXP1",date_str:"Calendar_date_str__D1ckB"}},44:function(e,t,a){e.exports={notFoundContainer:"NotFoundPage_notFoundContainer__1KKnQ",title:"NotFoundPage_title__2IaYb",text:"NotFoundPage_text__1g1_b"}},54:function(e,t,a){e.exports={loader:"Loader_loader__2ZPKq",pacman:"Loader_pacman__2yTBc","pacman-balls":"Loader_pacman-balls__8JQaq",rotate_pacman_half_up:"Loader_rotate_pacman_half_up__XYjtN",rotate_pacman_half_down:"Loader_rotate_pacman_half_down__2izht"}},66:function(e,t,a){e.exports={app:"App_app__1b98m"}},68:function(e,t,a){e.exports={table:"Table_table__3qKCN"}},7:function(e,t,a){e.exports={logo:"TableRow_logo__2Wlt-",term:"TableRow_term__3JwTw",term_a:"TableRow_term_a__2oGaC",term_d:"TableRow_term_d__nnsVO",row:"TableRow_row__3t8fk",row_grey:"TableRow_row_grey__2GTT0",company:"TableRow_company__2mBYm",comp_name:"TableRow_comp_name__27wGf",td:"TableRow_td__wTwCH",details:"TableRow_details__Uf4xr"}},72:function(e,t,a){e.exports={date_calendar_wrap:"DateBar_date_calendar_wrap__3y4HJ"}},86:function(e,t,a){}},[[151,1,2]]]);
//# sourceMappingURL=main.d2d0f03e.chunk.js.map